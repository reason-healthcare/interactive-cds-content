{
	"info": {
		"_postman_id": "c7275978-8ff2-42a6-ba3f-b4baa1de219c",
		"name": "Interactive CDS Examples",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "25403373"
	},
	"item": [
		{
			"name": "$questionnaire - Case1",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"resourceType\": \"Parameters\",\n  \"id\": \"QuestionnaireParameters1\",\n  \"parameter\": [\n    {\n      \"name\": \"url\",\n      \"valueUri\": \"http://example.org/PlanDefinition/SulfasalazineMonitoringRecommendation\"\n    },\n    {\n      \"name\": \"version\",\n      \"valueString\": \"0.1.0\"\n    },\n    {\n      \"name\": \"data\",\n      \"resource\": {\n        \"resourceType\": \"Bundle\",\n        \"id\": \"InitialBundle\",\n        \"meta\": {\n          \"tag\": [\n            {\n              \"code\": \"test\"\n            }\n          ]\n        },\n        \"type\": \"collection\",\n        \"entry\": [\n          {\n            \"fullUrl\": \"http://example.org/Patient/Patient1\",\n            \"resource\": {\n              \"resourceType\": \"Patient\",\n              \"id\": \"Patient1\",\n              \"name\": [\n                {\n                  \"family\": \"Patient1\"\n                }\n              ]\n            }\n          },\n          {\n            \"fullUrl\": \"http://example.org/Practitioner/PractitionerShared\",\n            \"resource\": {\n              \"resourceType\": \"Practitioner\",\n              \"id\": \"PractitionerShared\",\n              \"name\": [\n                {\n                  \"family\": \"practitionershared\"\n                }\n              ]\n            }\n          },\n          {\n            \"fullUrl\": \"http://example.org/Organization/OrganizationShared\",\n            \"resource\": {\n              \"resourceType\": \"Organization\",\n              \"id\": \"OrganizationShared\",\n              \"name\": \"organizationshared\"\n            }\n          },\n          {\n            \"fullUrl\": \"http://example.org/Encounter/Encounter1\",\n            \"resource\": {\n              \"resourceType\": \"Encounter\",\n              \"id\": \"Encounter1\",\n              \"status\": \"in-progress\",\n              \"class\": {\n                \"code\": \"AMB\",\n                \"system\": \"http://terminology.hl7.org/CodeSystem/v3-ActCode\",\n                \"display\": \"ambulatory\"\n              },\n              \"subject\": {\n                \"reference\": \"Patient/Patient1\"\n              },\n              \"participant\": [\n                {\n                  \"type\": [\n                    {\n                      \"coding\": [\n                        {\n                          \"code\": \"PPRF\",\n                          \"system\": \"http://terminology.hl7.org/CodeSystem/v3-ParticipationType\",\n                          \"display\": \"primary performer\"\n                        }\n                      ]\n                    }\n                  ],\n                  \"individual\": {\n                    \"reference\": \"Practitioner/PractitionerShared\"\n                  }\n                }\n              ],\n              \"serviceProvider\": {\n                \"reference\": \"Organization/OrganizationShared\"\n              }\n            }\n          },\n          {\n            \"fullUrl\": \"http://example.org/MedicationRequest/MedicationRequest1\",\n            \"resource\": {\n              \"resourceType\": \"MedicationRequest\",\n              \"id\": \"MedicationRequest1\",\n              \"status\": \"active\",\n              \"intent\": \"order\",\n              \"subject\": {\n                \"reference\": \"Patient/Patient1\"\n              },\n              \"medicationCodeableConcept\": {\n                \"coding\": [\n                  {\n                    \"code\": \"A07EC01\",\n                    \"system\": \"http://www.whocc.no/atc\",\n                    \"display\": \"Sulfasalazine\"\n                  }\n                ]\n              }\n            }\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"artifactEndpointConfiguration\",\n      \"part\": [\n        {\n          \"name\": \"artifactRoute\",\n          \"valueUri\": \"{{contentArtifactRoute}}\"\n        },\n        {\n          \"name\": \"endpointUri\",\n          \"valueUri\": \"{{contentEndpointAddress}}\"\n        },\n        {\n          \"name\": \"endpoint\",\n          \"resource\": {\n            \"resourceType\": \"Endpoint\",\n            \"address\": \"{{contentEndpointAddress}}\",\n            \"status\": \"active\",\n            \"connectionType\": {\n              \"code\": \"{{contentEndpointType}}\"\n            }\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"artifactEndpointConfiguration\",\n      \"part\": [\n        {\n          \"name\": \"artifactRoute\",\n          \"valueUri\": \"{{baseResourceArtifactRoute}}\"\n        },\n        {\n          \"name\": \"endpointUri\",\n          \"valueUri\": \"{{baseResourceEndpointAddress}}\"\n        },\n        {\n          \"name\": \"endpoint\",\n          \"resource\": {\n            \"resourceType\": \"Endpoint\",\n            \"address\": \"{{baseResourceEndpointAddress}}\",\n            \"status\": \"active\",\n            \"connectionType\": {\n              \"code\": \"{{baseResourceEndpointType}}\"\n           }\n          }\n        }\n      ]\n    }\n  ]\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{cpgServer}}/PlanDefinition/$questionnaire",
					"host": [
						"{{cpgServer}}"
					],
					"path": [
						"PlanDefinition",
						"$questionnaire"
					]
				}
			},
			"response": [
				{
					"name": "$questionnaire - Case1",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"resourceType\": \"Parameters\",\n  \"id\": \"QuestionnaireParameters1\",\n  \"parameter\": [\n    {\n      \"name\": \"url\",\n      \"valueUri\": \"http://example.org/PlanDefinition/SulfasalazineMonitoringRecommendation\"\n    },\n    {\n      \"name\": \"version\",\n      \"valueString\": \"0.1.0\"\n    },\n    {\n      \"name\": \"data\",\n      \"resource\": {\n        \"resourceType\": \"Bundle\",\n        \"id\": \"InitialBundle\",\n        \"meta\": {\n          \"tag\": [\n            {\n              \"code\": \"test\"\n            }\n          ]\n        },\n        \"type\": \"collection\",\n        \"entry\": [\n          {\n            \"fullUrl\": \"http://example.org/Patient/Patient1\",\n            \"resource\": {\n              \"resourceType\": \"Patient\",\n              \"id\": \"Patient1\",\n              \"name\": [\n                {\n                  \"family\": \"Patient1\"\n                }\n              ]\n            }\n          },\n          {\n            \"fullUrl\": \"http://example.org/Practitioner/PractitionerShared\",\n            \"resource\": {\n              \"resourceType\": \"Practitioner\",\n              \"id\": \"PractitionerShared\",\n              \"name\": [\n                {\n                  \"family\": \"practitionershared\"\n                }\n              ]\n            }\n          },\n          {\n            \"fullUrl\": \"http://example.org/Organization/OrganizationShared\",\n            \"resource\": {\n              \"resourceType\": \"Organization\",\n              \"id\": \"OrganizationShared\",\n              \"name\": \"organizationshared\"\n            }\n          },\n          {\n            \"fullUrl\": \"http://example.org/Encounter/Encounter1\",\n            \"resource\": {\n              \"resourceType\": \"Encounter\",\n              \"id\": \"Encounter1\",\n              \"status\": \"in-progress\",\n              \"class\": {\n                \"code\": \"AMB\",\n                \"system\": \"http://terminology.hl7.org/CodeSystem/v3-ActCode\",\n                \"display\": \"ambulatory\"\n              },\n              \"subject\": {\n                \"reference\": \"Patient/Patient1\"\n              },\n              \"participant\": [\n                {\n                  \"type\": [\n                    {\n                      \"coding\": [\n                        {\n                          \"code\": \"PPRF\",\n                          \"system\": \"http://terminology.hl7.org/CodeSystem/v3-ParticipationType\",\n                          \"display\": \"primary performer\"\n                        }\n                      ]\n                    }\n                  ],\n                  \"individual\": {\n                    \"reference\": \"Practitioner/PractitionerShared\"\n                  }\n                }\n              ],\n              \"serviceProvider\": {\n                \"reference\": \"Organization/OrganizationShared\"\n              }\n            }\n          },\n          {\n            \"fullUrl\": \"http://example.org/MedicationRequest/MedicationRequest1\",\n            \"resource\": {\n              \"resourceType\": \"MedicationRequest\",\n              \"id\": \"MedicationRequest1\",\n              \"status\": \"active\",\n              \"intent\": \"order\",\n              \"subject\": {\n                \"reference\": \"Patient/Patient1\"\n              },\n              \"medicationCodeableConcept\": {\n                \"coding\": [\n                  {\n                    \"code\": \"A07EC01\",\n                    \"system\": \"http://www.whocc.no/atc\",\n                    \"display\": \"Sulfasalazine\"\n                  }\n                ]\n              }\n            }\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"artifactEndpointConfiguration\",\n      \"part\": [\n        {\n          \"name\": \"artifactRoute\",\n          \"valueUri\": \"{{contentArtifactRoute}}\"\n        },\n        {\n          \"name\": \"endpointUri\",\n          \"valueUri\": \"{{contentEndpointAddress}}\"\n        },\n        {\n          \"name\": \"endpoint\",\n          \"resource\": {\n            \"resourceType\": \"Endpoint\",\n            \"address\": \"{{contentEndpointAddress}}\",\n            \"status\": \"active\",\n            \"connectionType\": {\n              \"code\": \"{{contentEndpointType}}\"\n            }\n          }\n        }\n      ]\n    },\n    {\n      \"name\": \"artifactEndpointConfiguration\",\n      \"part\": [\n        {\n          \"name\": \"artifactRoute\",\n          \"valueUri\": \"{{baseResourceArtifactRoute}}\"\n        },\n        {\n          \"name\": \"endpointUri\",\n          \"valueUri\": \"{{baseResourceEndpointAddress}}\"\n        },\n        {\n          \"name\": \"endpoint\",\n          \"resource\": {\n            \"resourceType\": \"Endpoint\",\n            \"address\": \"{{baseResourceEndpointAddress}}\",\n            \"status\": \"active\",\n            \"connectionType\": {\n              \"code\": \"{{baseResourceEndpointType}}\"\n           }\n          }\n        }\n      ]\n    }\n  ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{cpgServer}}/PlanDefinition/$questionnaire",
							"host": [
								"{{cpgServer}}"
							],
							"path": [
								"PlanDefinition",
								"$questionnaire"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "vary",
							"value": "Origin"
						},
						{
							"key": "access-control-allow-origin",
							"value": "*"
						},
						{
							"key": "content-type",
							"value": "application/json; charset=utf-8"
						},
						{
							"key": "content-length",
							"value": "5444"
						},
						{
							"key": "Date",
							"value": "Thu, 16 May 2024 20:29:02 GMT"
						},
						{
							"key": "Connection",
							"value": "keep-alive"
						},
						{
							"key": "Keep-Alive",
							"value": "timeout=72"
						}
					],
					"cookie": [],
					"body": "{\n    \"resourceType\": \"Bundle\",\n    \"id\": \"c8c1bbc1-c2d4-4f44-90a6-3b2b92e7fea5\",\n    \"type\": \"collection\",\n    \"entry\": [\n        {\n            \"fullUrl\": \"http://questionnaire-processor/Questionnaire/3cfe14ae-c1c7-42c4-acba-b3b1206c8640\",\n            \"resource\": {\n                \"id\": \"3cfe14ae-c1c7-42c4-acba-b3b1206c8640\",\n                \"resourceType\": \"Questionnaire\",\n                \"description\": \"Questionnaire generated from http://example.org/PlanDefinition/SulfasalazineMonitoringRecommendation\",\n                \"status\": \"draft\",\n                \"extension\": [\n                    {\n                        \"url\": \"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-assemble-expectation\",\n                        \"valueCode\": \"assemble-root\"\n                    }\n                ],\n                \"item\": [\n                    {\n                        \"linkId\": \"db62f392-fcd4-4f42-9947-142f5f42eed8\",\n                        \"type\": \"display\",\n                        \"text\": \"Sub-questionnaire - http://questionnaire-processor/Questionnaire/55a6cba9-8788-408c-94ea-20dff2d30054\",\n                        \"extension\": [\n                            {\n                                \"url\": \"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-subQuestionnaire\",\n                                \"valueCanonical\": \"http://questionnaire-processor/Questionnaire/55a6cba9-8788-408c-94ea-20dff2d30054\"\n                            }\n                        ]\n                    },\n                    {\n                        \"linkId\": \"dc9a5aaa-6837-4fbe-a019-c7642db18320\",\n                        \"type\": \"display\",\n                        \"text\": \"Sub-questionnaire - http://questionnaire-processor/Questionnaire/d5bbf9e0-be78-457a-ba69-773b0cef0c9a\",\n                        \"extension\": [\n                            {\n                                \"url\": \"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-subQuestionnaire\",\n                                \"valueCanonical\": \"http://questionnaire-processor/Questionnaire/d5bbf9e0-be78-457a-ba69-773b0cef0c9a\"\n                            }\n                        ]\n                    }\n                ],\n                \"url\": \"http://questionnaire-processor/Questionnaire/3cfe14ae-c1c7-42c4-acba-b3b1206c8640\"\n            }\n        },\n        {\n            \"fullUrl\": \"http://questionnaire-processor/Questionnaire/55a6cba9-8788-408c-94ea-20dff2d30054\",\n            \"resource\": {\n                \"id\": \"55a6cba9-8788-408c-94ea-20dff2d30054\",\n                \"resourceType\": \"Questionnaire\",\n                \"description\": \"Questionnaire generated from http://example.org/StructureDefinition/ActiveSulfasalazineFeature\",\n                \"status\": \"draft\",\n                \"url\": \"http://questionnaire-processor/Questionnaire/55a6cba9-8788-408c-94ea-20dff2d30054\",\n                \"item\": [\n                    {\n                        \"linkId\": \"68e8fc0b-9ae2-49ce-a8c3-f9d950f9771a\",\n                        \"definition\": \"http://example.org/StructureDefinition/ActiveSulfasalazineFeature#Observation\",\n                        \"text\": \"Measurements and simple assertions\",\n                        \"type\": \"group\",\n                        \"extension\": [\n                            {\n                                \"url\": \"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext\",\n                                \"valueCode\": \"Observation\"\n                            }\n                        ],\n                        \"item\": [\n                            {\n                                \"linkId\": \"09eb5d0b-3dbc-4f4f-8625-50d06cec0be3\",\n                                \"definition\": \"http://example.org/StructureDefinition/ActiveSulfasalazineFeature#Observation.status\",\n                                \"text\": \"The status of the result value.\",\n                                \"required\": true,\n                                \"type\": \"choice\",\n                                \"extension\": [\n                                    {\n                                        \"url\": \"http://hl7.org/fhir/StructureDefinition/questionnaire-hidden\",\n                                        \"valueBoolean\": true\n                                    }\n                                ],\n                                \"initial\": [\n                                    {\n                                        \"valueCoding\": {\n                                            \"code\": \"final\"\n                                        }\n                                    }\n                                ]\n                            },\n                            {\n                                \"linkId\": \"387a26db-2261-46b6-b6b7-adebd2585908\",\n                                \"definition\": \"http://example.org/StructureDefinition/ActiveSulfasalazineFeature#Observation.code\",\n                                \"text\": \"Type of observation (code / type)\",\n                                \"required\": true,\n                                \"type\": \"choice\",\n                                \"extension\": [\n                                    {\n                                        \"url\": \"http://hl7.org/fhir/StructureDefinition/questionnaire-hidden\",\n                                        \"valueBoolean\": true\n                                    }\n                                ],\n                                \"initial\": [\n                                    {\n                                        \"valueCoding\": {\n                                            \"system\": \"http://example.org/CodeSystem/CaseFeatureCodes\",\n                                            \"code\": \"on-medication-sulfasalazine\"\n                                        }\n                                    }\n                                ]\n                            },\n                            {\n                                \"linkId\": \"c472d0a1-a42d-48e9-ac20-e62adb269392\",\n                                \"definition\": \"http://example.org/StructureDefinition/ActiveSulfasalazineFeature#Observation.valueBoolean\",\n                                \"text\": \"Actual result\",\n                                \"type\": \"boolean\",\n                                \"initial\": [\n                                    {\n                                        \"valueBoolean\": true\n                                    }\n                                ]\n                            },\n                            {\n                                \"linkId\": \"dd300c93-d02f-4642-918f-cbc39a1ae957\",\n                                \"definition\": \"http://example.org/StructureDefinition/ActiveSulfasalazineFeature#Observation.effectiveDateTime\",\n                                \"text\": \"Clinically relevant time/time-period for observation\",\n                                \"type\": \"dateTime\",\n                                \"extension\": [\n                                    {\n                                        \"url\": \"http://hl7.org/fhir/StructureDefinition/questionnaire-hidden\",\n                                        \"valueBoolean\": true\n                                    }\n                                ],\n                                \"initial\": [\n                                    {\n                                        \"valueDateTime\": \"2024-05-16T16:29:00.997-04:00\"\n                                    }\n                                ]\n                            }\n                        ]\n                    }\n                ]\n            }\n        },\n        {\n            \"fullUrl\": \"http://questionnaire-processor/Questionnaire/d5bbf9e0-be78-457a-ba69-773b0cef0c9a\",\n            \"resource\": {\n                \"id\": \"d5bbf9e0-be78-457a-ba69-773b0cef0c9a\",\n                \"resourceType\": \"Questionnaire\",\n                \"description\": \"Questionnaire generated from http://example.org/StructureDefinition/LastCbcPanelReportDateFeature\",\n                \"status\": \"draft\",\n                \"url\": \"http://questionnaire-processor/Questionnaire/d5bbf9e0-be78-457a-ba69-773b0cef0c9a\",\n                \"item\": [\n                    {\n                        \"linkId\": \"13df2d74-9324-4718-99ec-d01670727cf4\",\n                        \"definition\": \"http://example.org/StructureDefinition/LastCbcPanelReportDateFeature#Observation\",\n                        \"text\": \"Measurements and simple assertions\",\n                        \"type\": \"group\",\n                        \"extension\": [\n                            {\n                                \"url\": \"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext\",\n                                \"valueCode\": \"Observation\"\n                            }\n                        ],\n                        \"item\": [\n                            {\n                                \"linkId\": \"b3c8cf68-44dd-4b99-98d4-88b4cda16c67\",\n                                \"definition\": \"http://example.org/StructureDefinition/LastCbcPanelReportDateFeature#Observation.status\",\n                                \"text\": \"The status of the result value.\",\n                                \"required\": true,\n                                \"type\": \"choice\",\n                                \"extension\": [\n                                    {\n                                        \"url\": \"http://hl7.org/fhir/StructureDefinition/questionnaire-hidden\",\n                                        \"valueBoolean\": true\n                                    }\n                                ],\n                                \"initial\": [\n                                    {\n                                        \"valueCoding\": {\n                                            \"code\": \"final\"\n                                        }\n                                    }\n                                ]\n                            },\n                            {\n                                \"linkId\": \"81b9b958-3578-4956-a9fc-003143ef6f83\",\n                                \"definition\": \"http://example.org/StructureDefinition/LastCbcPanelReportDateFeature#Observation.code\",\n                                \"text\": \"Type of observation (code / type)\",\n                                \"required\": true,\n                                \"type\": \"choice\",\n                                \"extension\": [\n                                    {\n                                        \"url\": \"http://hl7.org/fhir/StructureDefinition/questionnaire-hidden\",\n                                        \"valueBoolean\": true\n                                    }\n                                ],\n                                \"initial\": [\n                                    {\n                                        \"valueCoding\": {\n                                            \"system\": \"http://example.org/CodeSystem/CaseFeatureCodes\",\n                                            \"code\": \"last-cbc-panel-report-date\"\n                                        }\n                                    }\n                                ]\n                            },\n                            {\n                                \"linkId\": \"05ee935d-9feb-4b26-96c9-ce6a79ce070c\",\n                                \"definition\": \"http://example.org/StructureDefinition/LastCbcPanelReportDateFeature#Observation.valueDateTime\",\n                                \"text\": \"Actual result\",\n                                \"type\": \"dateTime\"\n                            }\n                        ]\n                    }\n                ]\n            }\n        }\n    ]\n}"
				}
			]
		},
		{
			"name": "$assemble - Case1",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"resourceType\": \"Parameters\",\n  \"id\": \"AssembleParameters1\",\n  \"parameter\": [\n    {\n      \"name\": \"questionnaire\",\n      \"resource\": {\n        \"resourceType\": \"Questionnaire\",\n        \"id\": \"ModularQuestionnaire1\",\n        \"meta\": {\n          \"profile\": [\n            \"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-modular\"\n          ]\n        },\n        \"url\": \"http://questionnaire-processor/Questionnaire/ModularQuestionnaire1\",\n        \"status\": \"draft\",\n        \"extension\": [\n          {\n            \"url\": \"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-assemble-expectation\",\n            \"valueCode\": \"assemble-root\"\n          }\n        ],\n        \"item\": [\n          {\n            \"linkId\": \"ActiveSulfasalazineFeature#Observation\",\n            \"definition\": \"http://example.org/StructureDefinition/ActiveSulfasalazineFeature#Observation\",\n            \"extension\": [\n              {\n                \"url\": \"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-subQuestionnaire\",\n                \"valueCanonical\": \"http://questionnaire-processor/Questionnaire/ActiveSulfasalazineFeatureQuestionnaire1\"\n              }\n            ],\n            \"type\": \"display\",\n            \"text\": \"ActiveSulfasalazineFeature#Observation sub-questionnaire\"\n          },\n          {\n            \"linkId\": \"LastCbcPanelReportDateFeature#Observation\",\n            \"definition\": \"http://example.org/StructureDefinition/LastCbcPanelReportDateFeature#Observation\",\n            \"extension\": [\n              {\n                \"url\": \"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-subQuestionnaire\",\n                \"valueCanonical\": \"http://questionnaire-processor/Questionnaire/LastCbcPanelReportDateFeatureQuestionnaire1\"\n              }\n            ],\n            \"type\": \"display\",\n            \"text\": \"LastCbcPanelReportDateFeature#Observation sub-questionnaire\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"contentEndpoint\",\n      \"resource\": {\n        \"resourceType\": \"Endpoint\",\n        \"address\": \"{{contentEndpointAddress}}\",\n        \"status\": \"active\",\n        \"payloadType\": [\n          {\n            \"coding\": [\n              {\n                \"code\": \"content\"\n              }\n            ]\n          }\n        ],\n        \"connectionType\": {\n          \"code\": \"{{contentEndpointType}}\"\n        }\n      }\n    }\n  ]\n}\n",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{cpgServer}}/Questionnaire/$assemble",
					"host": [
						"{{cpgServer}}"
					],
					"path": [
						"Questionnaire",
						"$assemble"
					]
				}
			},
			"response": [
				{
					"name": "$assemble - Case1",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"resourceType\": \"Parameters\",\n  \"id\": \"AssembleParameters1\",\n  \"parameter\": [\n    {\n      \"name\": \"questionnaire\",\n      \"resource\": {\n        \"resourceType\": \"Questionnaire\",\n        \"id\": \"ModularQuestionnaire1\",\n        \"meta\": {\n          \"profile\": [\n            \"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-modular\"\n          ]\n        },\n        \"url\": \"http://questionnaire-processor/Questionnaire/ModularQuestionnaire1\",\n        \"status\": \"draft\",\n        \"extension\": [\n          {\n            \"url\": \"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-assemble-expectation\",\n            \"valueCode\": \"assemble-root\"\n          }\n        ],\n        \"item\": [\n          {\n            \"linkId\": \"ActiveSulfasalazineFeature#Observation\",\n            \"definition\": \"http://example.org/StructureDefinition/ActiveSulfasalazineFeature#Observation\",\n            \"extension\": [\n              {\n                \"url\": \"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-subQuestionnaire\",\n                \"valueCanonical\": \"http://questionnaire-processor/Questionnaire/ActiveSulfasalazineFeatureQuestionnaire1\"\n              }\n            ],\n            \"type\": \"display\",\n            \"text\": \"ActiveSulfasalazineFeature#Observation sub-questionnaire\"\n          },\n          {\n            \"linkId\": \"LastCbcPanelReportDateFeature#Observation\",\n            \"definition\": \"http://example.org/StructureDefinition/LastCbcPanelReportDateFeature#Observation\",\n            \"extension\": [\n              {\n                \"url\": \"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-subQuestionnaire\",\n                \"valueCanonical\": \"http://questionnaire-processor/Questionnaire/LastCbcPanelReportDateFeatureQuestionnaire1\"\n              }\n            ],\n            \"type\": \"display\",\n            \"text\": \"LastCbcPanelReportDateFeature#Observation sub-questionnaire\"\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"contentEndpoint\",\n      \"resource\": {\n        \"resourceType\": \"Endpoint\",\n        \"address\": \"{{contentEndpointAddress}}\",\n        \"status\": \"active\",\n        \"payloadType\": [\n          {\n            \"coding\": [\n              {\n                \"code\": \"content\"\n              }\n            ]\n          }\n        ],\n        \"connectionType\": {\n          \"code\": \"{{contentEndpointType}}\"\n        }\n      }\n    }\n  ]\n}\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{cpgServer}}/Questionnaire/$assemble",
							"host": [
								"{{cpgServer}}"
							],
							"path": [
								"Questionnaire",
								"$assemble"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "vary",
							"value": "Origin"
						},
						{
							"key": "access-control-allow-origin",
							"value": "*"
						},
						{
							"key": "content-type",
							"value": "application/json; charset=utf-8"
						},
						{
							"key": "content-length",
							"value": "3897"
						},
						{
							"key": "Date",
							"value": "Thu, 16 May 2024 20:29:18 GMT"
						},
						{
							"key": "Connection",
							"value": "keep-alive"
						},
						{
							"key": "Keep-Alive",
							"value": "timeout=72"
						}
					],
					"cookie": [],
					"body": "{\n    \"resourceType\": \"Questionnaire\",\n    \"id\": \"ModularQuestionnaire1\",\n    \"meta\": {\n        \"profile\": [\n            \"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-modular\"\n        ]\n    },\n    \"url\": \"http://questionnaire-processor/Questionnaire/ModularQuestionnaire1\",\n    \"status\": \"draft\",\n    \"extension\": [\n        {\n            \"url\": \"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-assembledFrom\",\n            \"valueCanonical\": \"http://questionnaire-processor/Questionnaire/ModularQuestionnaire1\"\n        }\n    ],\n    \"item\": [\n        {\n            \"extension\": [\n                {\n                    \"url\": \"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext\",\n                    \"valueCode\": \"Observation\"\n                }\n            ],\n            \"linkId\": \"ActiveSulfasalazineFeature#Observation\",\n            \"definition\": \"http://example.org/StructureDefinition/ActiveSulfasalazineFeature#Observation\",\n            \"text\": \"Measurements and simple assertions\",\n            \"type\": \"group\",\n            \"item\": [\n                {\n                    \"linkId\": \"ActiveSulfasalazineFeature#Observation.valueBoolean\",\n                    \"definition\": \"http://example.org/StructureDefinition/ActiveSulfasalazineFeature#Observation.valueBoolean\",\n                    \"text\": \"Actual result\",\n                    \"type\": \"boolean\",\n                    \"initial\": [\n                        {\n                            \"valueBoolean\": true\n                        }\n                    ]\n                },\n                {\n                    \"extension\": [\n                        {\n                            \"url\": \"http://hl7.org/fhir/StructureDefinition/questionnaire-hidden\",\n                            \"valueBoolean\": true\n                        }\n                    ],\n                    \"linkId\": \"ActiveSulfasalazineFeature#Observation.status\",\n                    \"definition\": \"http://example.org/StructureDefinition/ActiveSulfasalazineFeature#Observation.status\",\n                    \"text\": \"registered | preliminary | final | amended +\",\n                    \"type\": \"choice\",\n                    \"required\": true,\n                    \"initial\": [\n                        {\n                            \"valueCoding\": {\n                                \"system\": \"http://hl7.org/fhir/observation-status\",\n                                \"code\": \"final\"\n                            }\n                        }\n                    ]\n                },\n                {\n                    \"extension\": [\n                        {\n                            \"url\": \"http://hl7.org/fhir/StructureDefinition/questionnaire-hidden\",\n                            \"valueBoolean\": true\n                        }\n                    ],\n                    \"linkId\": \"ActiveSulfasalazineFeature#Observation.code\",\n                    \"definition\": \"http://example.org/StructureDefinition/ActiveSulfasalazineFeature#Observation.code\",\n                    \"text\": \"Type of observation (code / type)\",\n                    \"type\": \"choice\",\n                    \"required\": true,\n                    \"initial\": [\n                        {\n                            \"valueCoding\": {\n                                \"system\": \"http://example.org/CodeSystem/CaseFeatureCodes\",\n                                \"code\": \"on-medication-sulfasalazine\"\n                            }\n                        }\n                    ]\n                },\n                {\n                    \"extension\": [\n                        {\n                            \"url\": \"http://hl7.org/fhir/StructureDefinition/questionnaire-hidden\",\n                            \"valueBoolean\": true\n                        }\n                    ],\n                    \"linkId\": \"ActiveSulfasalazineFeature#Observation.effectiveDateTime\",\n                    \"definition\": \"http://example.org/StructureDefinition/ActiveSulfasalazineFeature#Observation.effectiveDateTime\",\n                    \"text\": \"Clinically relevant time/time-period for observation\",\n                    \"type\": \"dateTime\",\n                    \"initial\": [\n                        {\n                            \"valueDateTime\": \"2022-12-13\"\n                        }\n                    ]\n                }\n            ]\n        },\n        {\n            \"extension\": [\n                {\n                    \"url\": \"http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-itemExtractionContext\",\n                    \"valueCode\": \"Observation\"\n                }\n            ],\n            \"linkId\": \"LastCbcPanelReportDateFeature#Observation\",\n            \"definition\": \"http://example.org/StructureDefinition/LastCbcPanelReportDateFeature#Observation\",\n            \"text\": \"Measurements and simple assertions\",\n            \"type\": \"group\",\n            \"item\": [\n                {\n                    \"extension\": [\n                        {\n                            \"url\": \"http://hl7.org/fhir/StructureDefinition/questionnaire-hidden\",\n                            \"valueBoolean\": true\n                        }\n                    ],\n                    \"linkId\": \"LastCbcPanelReportDateFeature#Observation.status\",\n                    \"definition\": \"http://example.org/StructureDefinition/LastCbcPanelReportDateFeature#Observation.status\",\n                    \"text\": \"registered | preliminary | final | amended +\",\n                    \"type\": \"choice\",\n                    \"required\": true,\n                    \"initial\": [\n                        {\n                            \"valueCoding\": {\n                                \"system\": \"http://hl7.org/fhir/observation-status\",\n                                \"code\": \"final\"\n                            }\n                        }\n                    ]\n                },\n                {\n                    \"extension\": [\n                        {\n                            \"url\": \"http://hl7.org/fhir/StructureDefinition/questionnaire-hidden\",\n                            \"valueBoolean\": true\n                        }\n                    ],\n                    \"linkId\": \"LastCbcPanelReportDateFeature#Observation.code\",\n                    \"definition\": \"http://example.org/StructureDefinition/LastCbcPanelReportDateFeature#Observation.code\",\n                    \"text\": \"Type of observation (code / type)\",\n                    \"type\": \"choice\",\n                    \"required\": true,\n                    \"initial\": [\n                        {\n                            \"valueCoding\": {\n                                \"system\": \"http://example.org/CodeSystem/CaseFeatureCodes\",\n                                \"code\": \"last-cbc-panel-report-date\"\n                            }\n                        }\n                    ]\n                },\n                {\n                    \"linkId\": \"LastCbcPanelReportDateFeature#Observation.valueDateTime\",\n                    \"definition\": \"http://example.org/StructureDefinition/LastCbcPanelReportDateFeature#Observation.valueDateTime\",\n                    \"text\": \"Actual result\",\n                    \"type\": \"dateTime\"\n                }\n            ]\n        }\n    ],\n    \"version\": \"aa33a202-af11-42cc-a3de-0d78f2ba7ecc\"\n}"
				}
			]
		},
		{
			"name": "$apply - Case1",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"resourceType\": \"Parameters\",\n  \"id\": \"ApplyParameters1\",\n  \"parameter\": [\n    {\n      \"name\": \"url\",\n      \"valueString\": \"http://example.org/PlanDefinition/SulfasalazineMonitoringRecommendation\"\n    },\n    {\n      \"name\": \"data\",\n      \"resource\": {\n        \"resourceType\": \"Bundle\",\n        \"id\": \"BundleCase1Modified\",\n        \"meta\": {\n          \"tag\": [\n            {\n              \"code\": \"test\"\n            }\n          ]\n        },\n        \"type\": \"collection\",\n        \"entry\": [\n          {\n            \"fullUrl\": \"http://example.org/Patient/Patient1\",\n            \"resource\": {\n              \"resourceType\": \"Patient\",\n              \"id\": \"Patient1\",\n              \"name\": [\n                {\n                  \"family\": \"Patient1\"\n                }\n              ]\n            }\n          },\n          {\n            \"fullUrl\": \"http://example.org/Practitioner/PractitionerShared\",\n            \"resource\": {\n              \"resourceType\": \"Practitioner\",\n              \"id\": \"PractitionerShared\",\n              \"name\": [\n                {\n                  \"family\": \"practitionershared\"\n                }\n              ]\n            }\n          },\n          {\n            \"fullUrl\": \"http://example.org/Organization/OrganizationShared\",\n            \"resource\": {\n              \"resourceType\": \"Organization\",\n              \"id\": \"OrganizationShared\",\n              \"name\": \"organizationshared\"\n            }\n          },\n          {\n            \"fullUrl\": \"http://example.org/Encounter/Encounter1\",\n            \"resource\": {\n              \"resourceType\": \"Encounter\",\n              \"id\": \"Encounter1\",\n              \"status\": \"in-progress\",\n              \"class\": {\n                \"code\": \"AMB\",\n                \"system\": \"http://terminology.hl7.org/CodeSystem/v3-ActCode\",\n                \"display\": \"ambulatory\"\n              },\n              \"subject\": {\n                \"reference\": \"Patient/Patient1\"\n              },\n              \"participant\": [\n                {\n                  \"type\": [\n                    {\n                      \"coding\": [\n                        {\n                          \"code\": \"PPRF\",\n                          \"system\": \"http://terminology.hl7.org/CodeSystem/v3-ParticipationType\",\n                          \"display\": \"primary performer\"\n                        }\n                      ]\n                    }\n                  ],\n                  \"individual\": {\n                    \"reference\": \"Practitioner/PractitionerShared\"\n                  }\n                }\n              ],\n              \"serviceProvider\": {\n                \"reference\": \"Organization/OrganizationShared\"\n              }\n            }\n          },\n          {\n            \"fullUrl\": \"http://example.org/MedicationRequest/MedicationRequest1\",\n            \"resource\": {\n              \"resourceType\": \"MedicationRequest\",\n              \"id\": \"MedicationRequest1\",\n              \"status\": \"active\",\n              \"intent\": \"order\",\n              \"subject\": {\n                \"reference\": \"Patient/Patient1\"\n              },\n              \"medicationCodeableConcept\": {\n                \"coding\": [\n                  {\n                    \"code\": \"A07EC01\",\n                    \"system\": \"http://www.whocc.no/atc\",\n                    \"display\": \"Sulfasalazine\"\n                  }\n                ]\n              }\n            }\n          },\n          {\n            \"fullUrl\": \"http://example.org/Observation/ActiveSulfasalazineFeatureObservation1\",\n            \"resource\": {\n              \"resourceType\": \"Observation\",\n              \"id\": \"ActiveSulfasalazineFeatureObservation1\",\n              \"meta\": {\n                \"profile\": [\n                  \"http://example.org/StructureDefinition/ActiveSulfasalazineFeature\"\n                ]\n              },\n              \"status\": \"final\",\n              \"code\": {\n                \"coding\": [\n                  {\n                    \"code\": \"on-medication-sulfasalazine\",\n                    \"system\": \"http://example.org/CodeSystem/CaseFeatureCodes\"\n                  }\n                ]\n              },\n              \"derivedFrom\": [\n                {\n                  \"reference\": \"Questionnaire/QuestionnaireResponse1\"\n                }\n              ],\n              \"subject\": {\n                \"reference\": \"Patient/Patient1\"\n              },\n              \"performer\": [\n                {\n                  \"reference\": \"Organization/OrganizationShared\"\n                }\n              ],\n              \"valueBoolean\": true,\n              \"effectiveDateTime\": \"2023-12-13\"\n            }\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"subject\",\n      \"valueString\": \"Patient/Patient1\"\n    },\n    {\n      \"name\": \"contentEndpoint\",\n      \"resource\": {\n        \"resourceType\": \"Endpoint\",\n        \"address\": \"{{contentEndpointAddress}}\",\n        \"status\": \"active\",\n        \"payloadType\": [\n          {\n            \"coding\": [\n              {\n                \"code\": \"content\"\n              }\n            ]\n          }\n        ],\n        \"connectionType\": {\n          \"code\": \"{{contentEndpointType}}\"\n        }\n      }\n    },\n    {\n      \"name\": \"terminologyEndpoint\",\n      \"resource\": {\n        \"resourceType\": \"Endpoint\",\n        \"address\": \"{{terminologyEndpointAddress}}\",\n        \"status\": \"active\",\n        \"payloadType\": [\n          {\n            \"coding\": [\n              {\n                \"code\": \"terminology\"\n              }\n            ]\n          }\n        ],\n        \"connectionType\": {\n          \"code\": \"{{terminologyEndpointType}}\"\n        }\n      }\n    }\n  ]\n}\n",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{cpgServer}}/PlanDefinition/$apply",
					"host": [
						"{{cpgServer}}"
					],
					"path": [
						"PlanDefinition",
						"$apply"
					]
				}
			},
			"response": [
				{
					"name": "$apply - Case1",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"resourceType\": \"Parameters\",\n  \"id\": \"ApplyParameters1\",\n  \"parameter\": [\n    {\n      \"name\": \"url\",\n      \"valueString\": \"http://example.org/PlanDefinition/SulfasalazineMonitoringRecommendation\"\n    },\n    {\n      \"name\": \"data\",\n      \"resource\": {\n        \"resourceType\": \"Bundle\",\n        \"id\": \"BundleCase1Modified\",\n        \"meta\": {\n          \"tag\": [\n            {\n              \"code\": \"test\"\n            }\n          ]\n        },\n        \"type\": \"collection\",\n        \"entry\": [\n          {\n            \"fullUrl\": \"http://example.org/Patient/Patient1\",\n            \"resource\": {\n              \"resourceType\": \"Patient\",\n              \"id\": \"Patient1\",\n              \"name\": [\n                {\n                  \"family\": \"Patient1\"\n                }\n              ]\n            }\n          },\n          {\n            \"fullUrl\": \"http://example.org/Practitioner/PractitionerShared\",\n            \"resource\": {\n              \"resourceType\": \"Practitioner\",\n              \"id\": \"PractitionerShared\",\n              \"name\": [\n                {\n                  \"family\": \"practitionershared\"\n                }\n              ]\n            }\n          },\n          {\n            \"fullUrl\": \"http://example.org/Organization/OrganizationShared\",\n            \"resource\": {\n              \"resourceType\": \"Organization\",\n              \"id\": \"OrganizationShared\",\n              \"name\": \"organizationshared\"\n            }\n          },\n          {\n            \"fullUrl\": \"http://example.org/Encounter/Encounter1\",\n            \"resource\": {\n              \"resourceType\": \"Encounter\",\n              \"id\": \"Encounter1\",\n              \"status\": \"in-progress\",\n              \"class\": {\n                \"code\": \"AMB\",\n                \"system\": \"http://terminology.hl7.org/CodeSystem/v3-ActCode\",\n                \"display\": \"ambulatory\"\n              },\n              \"subject\": {\n                \"reference\": \"Patient/Patient1\"\n              },\n              \"participant\": [\n                {\n                  \"type\": [\n                    {\n                      \"coding\": [\n                        {\n                          \"code\": \"PPRF\",\n                          \"system\": \"http://terminology.hl7.org/CodeSystem/v3-ParticipationType\",\n                          \"display\": \"primary performer\"\n                        }\n                      ]\n                    }\n                  ],\n                  \"individual\": {\n                    \"reference\": \"Practitioner/PractitionerShared\"\n                  }\n                }\n              ],\n              \"serviceProvider\": {\n                \"reference\": \"Organization/OrganizationShared\"\n              }\n            }\n          },\n          {\n            \"fullUrl\": \"http://example.org/MedicationRequest/MedicationRequest1\",\n            \"resource\": {\n              \"resourceType\": \"MedicationRequest\",\n              \"id\": \"MedicationRequest1\",\n              \"status\": \"active\",\n              \"intent\": \"order\",\n              \"subject\": {\n                \"reference\": \"Patient/Patient1\"\n              },\n              \"medicationCodeableConcept\": {\n                \"coding\": [\n                  {\n                    \"code\": \"A07EC01\",\n                    \"system\": \"http://www.whocc.no/atc\",\n                    \"display\": \"Sulfasalazine\"\n                  }\n                ]\n              }\n            }\n          },\n          {\n            \"fullUrl\": \"http://example.org/Observation/ActiveSulfasalazineFeatureObservation1\",\n            \"resource\": {\n              \"resourceType\": \"Observation\",\n              \"id\": \"ActiveSulfasalazineFeatureObservation1\",\n              \"meta\": {\n                \"profile\": [\n                  \"http://example.org/StructureDefinition/ActiveSulfasalazineFeature\"\n                ]\n              },\n              \"status\": \"final\",\n              \"code\": {\n                \"coding\": [\n                  {\n                    \"code\": \"on-medication-sulfasalazine\",\n                    \"system\": \"http://example.org/CodeSystem/CaseFeatureCodes\"\n                  }\n                ]\n              },\n              \"derivedFrom\": [\n                {\n                  \"reference\": \"Questionnaire/QuestionnaireResponse1\"\n                }\n              ],\n              \"subject\": {\n                \"reference\": \"Patient/Patient1\"\n              },\n              \"performer\": [\n                {\n                  \"reference\": \"Organization/OrganizationShared\"\n                }\n              ],\n              \"valueBoolean\": true,\n              \"effectiveDateTime\": \"2023-12-13\"\n            }\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"subject\",\n      \"valueString\": \"Patient/Patient1\"\n    },\n    {\n      \"name\": \"contentEndpoint\",\n      \"resource\": {\n        \"resourceType\": \"Endpoint\",\n        \"address\": \"{{contentEndpointAddress}}\",\n        \"status\": \"active\",\n        \"payloadType\": [\n          {\n            \"coding\": [\n              {\n                \"code\": \"content\"\n              }\n            ]\n          }\n        ],\n        \"connectionType\": {\n          \"code\": \"{{contentEndpointType}}\"\n        }\n      }\n    },\n    {\n      \"name\": \"terminologyEndpoint\",\n      \"resource\": {\n        \"resourceType\": \"Endpoint\",\n        \"address\": \"{{terminologyEndpointAddress}}\",\n        \"status\": \"active\",\n        \"payloadType\": [\n          {\n            \"coding\": [\n              {\n                \"code\": \"terminology\"\n              }\n            ]\n          }\n        ],\n        \"connectionType\": {\n          \"code\": \"{{terminologyEndpointType}}\"\n        }\n      }\n    }\n  ]\n}\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{cpgServer}}/PlanDefinition/$apply",
							"host": [
								"{{cpgServer}}"
							],
							"path": [
								"PlanDefinition",
								"$apply"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "vary",
							"value": "Origin"
						},
						{
							"key": "access-control-allow-origin",
							"value": "*"
						},
						{
							"key": "content-type",
							"value": "application/json; charset=utf-8"
						},
						{
							"key": "content-length",
							"value": "1586"
						},
						{
							"key": "Date",
							"value": "Thu, 16 May 2024 20:29:23 GMT"
						},
						{
							"key": "Connection",
							"value": "keep-alive"
						},
						{
							"key": "Keep-Alive",
							"value": "timeout=72"
						}
					],
					"cookie": [],
					"body": "{\n    \"resourceType\": \"Bundle\",\n    \"id\": \"8fa2cf39-7c88-4673-bb45-bad66d4051ef\",\n    \"type\": \"collection\",\n    \"entry\": [\n        {\n            \"fullUrl\": \"http://apply-processor/RequestGroup/cd025d4e-b40c-4706-a951-398efc44a963\",\n            \"resource\": {\n                \"resourceType\": \"RequestGroup\",\n                \"id\": \"cd025d4e-b40c-4706-a951-398efc44a963\",\n                \"intent\": \"proposal\",\n                \"status\": \"draft\",\n                \"subject\": {\n                    \"reference\": \"Patient/Patient1\"\n                },\n                \"instantiatesCanonical\": [\n                    \"http://example.org/PlanDefinition/SulfasalazineMonitoringRecommendation|0.1.0\"\n                ],\n                \"action\": [\n                    {\n                        \"title\": \"Order monitoring tests for antirheumatic drug therapy (Sulfasalazine).\",\n                        \"description\": \"Order monitoring tests for antirheumatic drug therapy (Sulfasalazine).\",\n                        \"code\": [\n                            {\n                                \"coding\": [\n                                    {\n                                        \"system\": \"http://hl7.org/fhir/uv/cpg/CodeSystem/cpg-common-process\",\n                                        \"code\": \"diagnostic-testing\"\n                                    }\n                                ]\n                            }\n                        ],\n                        \"type\": {\n                            \"coding\": [\n                                {\n                                    \"system\": \"http://terminology.hl7.org/CodeSystem/action-type\",\n                                    \"code\": \"create\"\n                                }\n                            ]\n                        },\n                        \"condition\": [\n                            {\n                                \"kind\": \"applicability\",\n                                \"expression\": {\n                                    \"language\": \"text/cql-identifier\",\n                                    \"expression\": \"Should order CBC if on Sulfasalazine therapy and missing test\"\n                                }\n                            }\n                        ],\n                        \"resource\": {\n                            \"reference\": \"ServiceRequest/807817fd-f2e4-40b1-a490-e0ebc8bb4782\"\n                        }\n                    }\n                ]\n            }\n        },\n        {\n            \"fullUrl\": \"http://apply-processor/ServiceRequest/807817fd-f2e4-40b1-a490-e0ebc8bb4782\",\n            \"resource\": {\n                \"id\": \"807817fd-f2e4-40b1-a490-e0ebc8bb4782\",\n                \"resourceType\": \"ServiceRequest\",\n                \"status\": \"draft\",\n                \"intent\": \"proposal\",\n                \"instantiatesCanonical\": [\n                    \"http://example.org/ActivityDefinition/OrderCBCActivity|0.1.0\"\n                ],\n                \"subject\": {\n                    \"reference\": \"Patient/Patient1\"\n                },\n                \"doNotPerform\": false,\n                \"code\": {\n                    \"coding\": [\n                        {\n                            \"system\": \"http://loinc.org\",\n                            \"code\": \"58410-2\",\n                            \"display\": \"CBC panel - Blood by Automated count\"\n                        }\n                    ]\n                }\n            }\n        }\n    ]\n}"
				}
			]
		},
		{
			"name": "$apply - Case2",
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"resourceType\": \"Parameters\",\n  \"id\": \"ApplyParameters2\",\n  \"parameter\": [\n    {\n      \"name\": \"url\",\n      \"valueString\": \"http://example.org/PlanDefinition/SulfasalazineMonitoringRecommendation\"\n    },\n    {\n      \"name\": \"data\",\n      \"resource\": {\n        \"resourceType\": \"Bundle\",\n        \"id\": \"BundleCase2Modified\",\n        \"meta\": {\n          \"tag\": [\n            {\n              \"code\": \"test\"\n            }\n          ]\n        },\n        \"type\": \"collection\",\n        \"entry\": [\n          {\n            \"fullUrl\": \"http://example.org/Patient/Patient1\",\n            \"resource\": {\n              \"resourceType\": \"Patient\",\n              \"id\": \"Patient1\",\n              \"name\": [\n                {\n                  \"family\": \"Patient1\"\n                }\n              ]\n            }\n          },\n          {\n            \"fullUrl\": \"http://example.org/Practitioner/PractitionerShared\",\n            \"resource\": {\n              \"resourceType\": \"Practitioner\",\n              \"id\": \"PractitionerShared\",\n              \"name\": [\n                {\n                  \"family\": \"practitionershared\"\n                }\n              ]\n            }\n          },\n          {\n            \"fullUrl\": \"http://example.org/Organization/OrganizationShared\",\n            \"resource\": {\n              \"resourceType\": \"Organization\",\n              \"id\": \"OrganizationShared\",\n              \"name\": \"organizationshared\"\n            }\n          },\n          {\n            \"fullUrl\": \"http://example.org/Encounter/Encounter1\",\n            \"resource\": {\n              \"resourceType\": \"Encounter\",\n              \"id\": \"Encounter1\",\n              \"status\": \"in-progress\",\n              \"class\": {\n                \"code\": \"AMB\",\n                \"system\": \"http://terminology.hl7.org/CodeSystem/v3-ActCode\",\n                \"display\": \"ambulatory\"\n              },\n              \"subject\": {\n                \"reference\": \"Patient/Patient1\"\n              },\n              \"participant\": [\n                {\n                  \"type\": [\n                    {\n                      \"coding\": [\n                        {\n                          \"code\": \"PPRF\",\n                          \"system\": \"http://terminology.hl7.org/CodeSystem/v3-ParticipationType\",\n                          \"display\": \"primary performer\"\n                        }\n                      ]\n                    }\n                  ],\n                  \"individual\": {\n                    \"reference\": \"Practitioner/PractitionerShared\"\n                  }\n                }\n              ],\n              \"serviceProvider\": {\n                \"reference\": \"Organization/OrganizationShared\"\n              }\n            }\n          },\n          {\n            \"fullUrl\": \"http://example.org/MedictionRequest/MedicationRequest1\",\n            \"resource\": {\n              \"resourceType\": \"MedicationRequest\",\n              \"id\": \"MedicationRequest1\",\n              \"status\": \"active\",\n              \"intent\": \"order\",\n              \"subject\": {\n                \"reference\": \"Patient/Patient1\"\n              },\n              \"medicationCodeableConcept\": {\n                \"coding\": [\n                  {\n                    \"code\": \"A07EC01\",\n                    \"system\": \"http://www.whocc.no/atc\",\n                    \"display\": \"Sulfasalazine\"\n                  }\n                ]\n              }\n            }\n          },\n          {\n            \"fullUrl\": \"http://example.org/Observation/ActiveSulfasalazineFeatureObservation2\",\n            \"resource\": {\n              \"resourceType\": \"Observation\",\n              \"id\": \"ActiveSulfasalazineFeatureObservation2\",\n              \"meta\": {\n                \"profile\": [\n                  \"http://example.org/StructureDefinition/ActiveSulfasalazineFeature\"\n                ]\n              },\n              \"status\": \"final\",\n              \"code\": {\n                \"coding\": [\n                  {\n                    \"code\": \"on-medication-sulfasalazine\",\n                    \"system\": \"http://example.org/CodeSystem/CaseFeatureCodes\"\n                  }\n                ]\n              },\n              \"derivedFrom\": [\n                {\n                  \"reference\": \"Questionnaire/QuestionnaireResponse2\"\n                }\n              ],\n              \"subject\": {\n                \"reference\": \"Patient/Patient1\"\n              },\n              \"valueBoolean\": true,\n              \"effectiveDateTime\": \"2023-12-13\"\n            }\n          },\n          {\n            \"fullUrl\": \"http://example.org/Observation/LastCbcPanelReportDateFeatureObservation2\",\n            \"resource\": {\n              \"resourceType\": \"Observation\",\n              \"id\": \"LastCbcPanelReportDateFeatureObservation2\",\n              \"meta\": {\n                \"profile\": [\n                  \"http://example.org/StructureDefinition/LastCbcPanelReportDateFeature\"\n                ]\n              },\n              \"status\": \"final\",\n              \"code\": {\n                \"coding\": [\n                  {\n                    \"code\": \"last-cbc-panel-report-date\",\n                    \"system\": \"http://example.org/CodeSystem/CaseFeatureCodes\"\n                  }\n                ]\n              },\n              \"derivedFrom\": [\n                {\n                  \"reference\": \"Questionnaire/QuestionnaireResponse2\"\n                }\n              ],\n              \"subject\": {\n                \"reference\": \"Patient/Patient1\"\n              },\n              \"valueDateTime\": \"2023-12-04\",\n              \"effectiveDateTime\": \"2023-12-13\"\n            }\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"subject\",\n      \"valueString\": \"Patient/Patient1\"\n    },\n    {\n      \"name\": \"contentEndpoint\",\n      \"resource\": {\n        \"resourceType\": \"Endpoint\",\n        \"address\": \"{{contentEndpointAddress}}\",\n        \"status\": \"active\",\n        \"payloadType\": [\n          {\n            \"coding\": [\n              {\n                \"code\": \"content\"\n              }\n            ]\n          }\n        ],\n        \"connectionType\": {\n          \"code\": \"{{contentEndpointType}}\"\n        }\n      }\n    },\n    {\n      \"name\": \"terminologyEndpoint\",\n      \"resource\": {\n        \"resourceType\": \"Endpoint\",\n        \"address\": \"{{terminologyEndpointAddress}}\",\n        \"status\": \"active\",\n        \"payloadType\": [\n          {\n            \"coding\": [\n              {\n                \"code\": \"terminology\"\n              }\n            ]\n          }\n        ],\n        \"connectionType\": {\n          \"code\": \"{{terminologyEndpointType}}\"\n        }\n      }\n    }\n  ]\n}\n",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{cpgServer}}/PlanDefinition/$apply",
					"host": [
						"{{cpgServer}}"
					],
					"path": [
						"PlanDefinition",
						"$apply"
					]
				}
			},
			"response": [
				{
					"name": "$apply - Case2",
					"originalRequest": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"resourceType\": \"Parameters\",\n  \"id\": \"ApplyParameters2\",\n  \"parameter\": [\n    {\n      \"name\": \"url\",\n      \"valueString\": \"http://example.org/PlanDefinition/SulfasalazineMonitoringRecommendation\"\n    },\n    {\n      \"name\": \"data\",\n      \"resource\": {\n        \"resourceType\": \"Bundle\",\n        \"id\": \"BundleCase2Modified\",\n        \"meta\": {\n          \"tag\": [\n            {\n              \"code\": \"test\"\n            }\n          ]\n        },\n        \"type\": \"collection\",\n        \"entry\": [\n          {\n            \"fullUrl\": \"http://example.org/Patient/Patient1\",\n            \"resource\": {\n              \"resourceType\": \"Patient\",\n              \"id\": \"Patient1\",\n              \"name\": [\n                {\n                  \"family\": \"Patient1\"\n                }\n              ]\n            }\n          },\n          {\n            \"fullUrl\": \"http://example.org/Practitioner/PractitionerShared\",\n            \"resource\": {\n              \"resourceType\": \"Practitioner\",\n              \"id\": \"PractitionerShared\",\n              \"name\": [\n                {\n                  \"family\": \"practitionershared\"\n                }\n              ]\n            }\n          },\n          {\n            \"fullUrl\": \"http://example.org/Organization/OrganizationShared\",\n            \"resource\": {\n              \"resourceType\": \"Organization\",\n              \"id\": \"OrganizationShared\",\n              \"name\": \"organizationshared\"\n            }\n          },\n          {\n            \"fullUrl\": \"http://example.org/Encounter/Encounter1\",\n            \"resource\": {\n              \"resourceType\": \"Encounter\",\n              \"id\": \"Encounter1\",\n              \"status\": \"in-progress\",\n              \"class\": {\n                \"code\": \"AMB\",\n                \"system\": \"http://terminology.hl7.org/CodeSystem/v3-ActCode\",\n                \"display\": \"ambulatory\"\n              },\n              \"subject\": {\n                \"reference\": \"Patient/Patient1\"\n              },\n              \"participant\": [\n                {\n                  \"type\": [\n                    {\n                      \"coding\": [\n                        {\n                          \"code\": \"PPRF\",\n                          \"system\": \"http://terminology.hl7.org/CodeSystem/v3-ParticipationType\",\n                          \"display\": \"primary performer\"\n                        }\n                      ]\n                    }\n                  ],\n                  \"individual\": {\n                    \"reference\": \"Practitioner/PractitionerShared\"\n                  }\n                }\n              ],\n              \"serviceProvider\": {\n                \"reference\": \"Organization/OrganizationShared\"\n              }\n            }\n          },\n          {\n            \"fullUrl\": \"http://example.org/MedictionRequest/MedicationRequest1\",\n            \"resource\": {\n              \"resourceType\": \"MedicationRequest\",\n              \"id\": \"MedicationRequest1\",\n              \"status\": \"active\",\n              \"intent\": \"order\",\n              \"subject\": {\n                \"reference\": \"Patient/Patient1\"\n              },\n              \"medicationCodeableConcept\": {\n                \"coding\": [\n                  {\n                    \"code\": \"A07EC01\",\n                    \"system\": \"http://www.whocc.no/atc\",\n                    \"display\": \"Sulfasalazine\"\n                  }\n                ]\n              }\n            }\n          },\n          {\n            \"fullUrl\": \"http://example.org/Observation/ActiveSulfasalazineFeatureObservation2\",\n            \"resource\": {\n              \"resourceType\": \"Observation\",\n              \"id\": \"ActiveSulfasalazineFeatureObservation2\",\n              \"meta\": {\n                \"profile\": [\n                  \"http://example.org/StructureDefinition/ActiveSulfasalazineFeature\"\n                ]\n              },\n              \"status\": \"final\",\n              \"code\": {\n                \"coding\": [\n                  {\n                    \"code\": \"on-medication-sulfasalazine\",\n                    \"system\": \"http://example.org/CodeSystem/CaseFeatureCodes\"\n                  }\n                ]\n              },\n              \"derivedFrom\": [\n                {\n                  \"reference\": \"Questionnaire/QuestionnaireResponse2\"\n                }\n              ],\n              \"subject\": {\n                \"reference\": \"Patient/Patient1\"\n              },\n              \"valueBoolean\": true,\n              \"effectiveDateTime\": \"2023-12-13\"\n            }\n          },\n          {\n            \"fullUrl\": \"http://example.org/Observation/LastCbcPanelReportDateFeatureObservation2\",\n            \"resource\": {\n              \"resourceType\": \"Observation\",\n              \"id\": \"LastCbcPanelReportDateFeatureObservation2\",\n              \"meta\": {\n                \"profile\": [\n                  \"http://example.org/StructureDefinition/LastCbcPanelReportDateFeature\"\n                ]\n              },\n              \"status\": \"final\",\n              \"code\": {\n                \"coding\": [\n                  {\n                    \"code\": \"last-cbc-panel-report-date\",\n                    \"system\": \"http://example.org/CodeSystem/CaseFeatureCodes\"\n                  }\n                ]\n              },\n              \"derivedFrom\": [\n                {\n                  \"reference\": \"Questionnaire/QuestionnaireResponse2\"\n                }\n              ],\n              \"subject\": {\n                \"reference\": \"Patient/Patient1\"\n              },\n              \"valueDateTime\": \"2023-12-04\",\n              \"effectiveDateTime\": \"2023-12-13\"\n            }\n          }\n        ]\n      }\n    },\n    {\n      \"name\": \"subject\",\n      \"valueString\": \"Patient/Patient1\"\n    },\n    {\n      \"name\": \"contentEndpoint\",\n      \"resource\": {\n        \"resourceType\": \"Endpoint\",\n        \"address\": \"{{contentEndpointAddress}}\",\n        \"status\": \"active\",\n        \"payloadType\": [\n          {\n            \"coding\": [\n              {\n                \"code\": \"content\"\n              }\n            ]\n          }\n        ],\n        \"connectionType\": {\n          \"code\": \"{{contentEndpointType}}\"\n        }\n      }\n    },\n    {\n      \"name\": \"terminologyEndpoint\",\n      \"resource\": {\n        \"resourceType\": \"Endpoint\",\n        \"address\": \"{{terminologyEndpointAddress}}\",\n        \"status\": \"active\",\n        \"payloadType\": [\n          {\n            \"coding\": [\n              {\n                \"code\": \"terminology\"\n              }\n            ]\n          }\n        ],\n        \"connectionType\": {\n          \"code\": \"{{terminologyEndpointType}}\"\n        }\n      }\n    }\n  ]\n}\n",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{cpgServer}}/PlanDefinition/$apply",
							"host": [
								"{{cpgServer}}"
							],
							"path": [
								"PlanDefinition",
								"$apply"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "vary",
							"value": "Origin"
						},
						{
							"key": "access-control-allow-origin",
							"value": "*"
						},
						{
							"key": "content-type",
							"value": "application/json; charset=utf-8"
						},
						{
							"key": "content-length",
							"value": "459"
						},
						{
							"key": "Date",
							"value": "Thu, 16 May 2024 20:29:27 GMT"
						},
						{
							"key": "Connection",
							"value": "keep-alive"
						},
						{
							"key": "Keep-Alive",
							"value": "timeout=72"
						}
					],
					"cookie": [],
					"body": "{\n    \"resourceType\": \"Bundle\",\n    \"id\": \"485b15b1-7496-4724-8100-7a8b9534e66c\",\n    \"type\": \"collection\",\n    \"entry\": [\n        {\n            \"fullUrl\": \"http://apply-processor/RequestGroup/760bea85-45bc-4c47-90cb-4b74d00b3299\",\n            \"resource\": {\n                \"resourceType\": \"RequestGroup\",\n                \"id\": \"760bea85-45bc-4c47-90cb-4b74d00b3299\",\n                \"intent\": \"proposal\",\n                \"status\": \"draft\",\n                \"subject\": {\n                    \"reference\": \"Patient/Patient1\"\n                },\n                \"instantiatesCanonical\": [\n                    \"http://example.org/PlanDefinition/SulfasalazineMonitoringRecommendation|0.1.0\"\n                ]\n            }\n        }\n    ]\n}"
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"/**",
					" * Delete the id and text as this can vary per request",
					" */",
					"",
					"const deleteLinkId = (i) => {",
					"  if (i.item) {",
					"    i.item.forEach(subI => {",
					"      delete subI.linkId",
					"      deleteLinkId(subI)",
					"    })",
					"  }",
					"}",
					"",
					"Object.prototype.testPrepare = function testPrepare(resource) {",
					"    delete resource.id;",
					"    delete resource.meta;",
					"    delete resource.url;",
					"    delete resource.description;",
					"    resource.item.forEach(item => {",
					"      delete item.linkId",
					"      deleteLinkId(item)",
					"    })",
					"    return resource;",
					"}",
					"",
					"",
					"/**",
					" * Find difference between two objects",
					" * @param  {object} origObj - Source object to compare newObj against",
					" * @param  {object} newObj  - New object with potential changes",
					" * @return {object} differences",
					" */",
					"function difference(origObj, newObj) {",
					"  function changes(newObj, origObj) {",
					"    let arrayIndexCounter = 0",
					"    return _.transform(newObj, function (result, value, key) {",
					"      if (!_.isEqual(value, origObj[key])) {",
					"        let resultKey = _.isArray(origObj) ? arrayIndexCounter++ : key",
					"        result[resultKey] = (_.isObject(value) && _.isObject(origObj[key])) ? changes(value, origObj[key]) : value",
					"      }",
					"    })",
					"  }",
					"  return changes(newObj, origObj)",
					"}",
					"",
					"/**",
					" * Does a deep equal comparison, uses console.log to show diffs if fails.",
					" * ",
					" * @example",
					" * pm.test(\"My test\", function() {",
					" *   _.expectToDeepEqual(pm.response.json(), expected, console);",
					" * });",
					" */",
					"Object.prototype.expectToDeepEqual = (actual, expected, console = console) => {",
					"    try {",
					"        pm.expect(_.testPrepare(actual)).to.deep.equal(_.testPrepare(expected));        ",
					"    } catch (e) {",
					"        const diff = difference(e.expected, e.actual);",
					"        console.log('difference expected to actual', diff);",
					"        console.log({ actual: e.actual, expected: e.expected});",
					"        e.message = `*** See Console *** ${e.message}`;",
					"        throw new Error(e);",
					"    }",
					"}"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "cpgServer",
			"value": "http://localhost:9001",
			"type": "string"
		},
		{
			"key": "contentEndpointType",
			"value": "hl7-fhir-file",
			"type": "string"
		},
		{
			"key": "contentEndpointAddress",
			"value": "file:///Users/taylorkingston/projects/interactive-cds-content/output",
			"type": "string"
		},
		{
			"key": "contentArtifactRoute",
			"value": "http://example.org",
			"type": "string"
		},
		{
			"key": "baseResourceEndpointType",
			"value": "hl7-fhir-rest",
			"type": "string"
		},
		{
			"key": "baseResourceEndpointAddress",
			"value": "http://hapi.fhir.org/baseR4",
			"type": "string"
		},
		{
			"key": "baseResourceArtifactRoute",
			"value": "http://hl7.org/fhir",
			"type": "string"
		},
		{
			"key": "terminologyEndpointType",
			"value": "hl7-fhir-file",
			"type": "string"
		},
		{
			"key": "terminologyEndpointAddress",
			"value": "file:///Users/taylorkingston/projects/interactive-cds-content/output",
			"type": "string"
		}
	]
}